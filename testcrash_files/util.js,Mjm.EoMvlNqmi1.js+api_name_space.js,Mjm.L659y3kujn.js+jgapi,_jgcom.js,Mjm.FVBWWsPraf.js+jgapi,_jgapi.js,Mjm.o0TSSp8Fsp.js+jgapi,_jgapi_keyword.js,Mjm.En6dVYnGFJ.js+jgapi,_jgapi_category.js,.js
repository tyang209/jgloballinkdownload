var mod_pagespeed_bG_QTgCmEq = "function pr(args){};";
var mod_pagespeed_OJTUQz4RrU = ";var api={JGCOM:null,JGAPI:null,master:{},search:null,synonym:null,category:null,list:null,words:null,groupWords:null,clipBtn:null,articleYear:null,errorDisplaySubBlock:null,errorDisplay:null,articleListDownload:null,Pager:null,autopage:null,socialBtns:null};";
var mod_pagespeed_ae9wSjhhof = "api.JGCOM={_GET:(function(){var requests=[];if(window.location.search.length>0){var params=window.location.search.substring(1).split('&');for(var i=0;i<params.length;i++){var item=params[i].split('=');requests[item[0]]=decodeURIComponent(item[1]);}}else if(window.location.hash.length>0){var params=window.location.hash.substring(1).split('&');for(var i=0;i<params.length;i++){var item=params[i].split('=');try{requests[item[0]]=decodeURIComponent(item[1]);}catch(e){}}}\nreturn requests;})(),htmlspecialchars:function(string,type){string=string.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');switch(type){case'ENT_NOQUOTES':break;case'ENT_QUOTES':string=string.replace(/\"/g,'&quot;').replace(/'/g,'&#039;');break;case'ENT_COMPAT':default:string=string.replace(/\"/g,'&quot;');break;}\nreturn string;},numberformat:function(num){return num.toString().replace(/(\\d{1,3})(?=(?:\\d{3})+$)/g,'$1,');},trim:function(str){if((typeof(str)=='string'||typeof(str)=='number')&&str.toString().length>0){str.toString().replace(/^\\s+|\\s+$/g,'');}else{str='';}\nreturn str;},strcut:function(str,len){if(typeof(len)!='number'||len<1){len=15;}\nif(str.toString().length>len){str=str.toString().substr(0,len)+'...';}\nreturn str;},fuzzycut:function(str,len,fuz){if(typeof(len)!='number'||len<1){len=15;}\nif(typeof(fuz)!='number'||fuz>len||fuz<1){fuz=1;}\nif(str.toString().length>len+fuz){str=str.toString().substr(0,len)+'...';}\nreturn str;}};";
var mod_pagespeed_IxnhQKOxsO = "api.JGAPI={createCS:function(callback){if(typeof(api.JGAPI.CS)!='object'){api.JGAPI.CS={};api.JGAPI.CS.STORE=[];api.JGAPI.CS.SERIAL=0;}\nvar i=api.JGAPI.CS.SERIAL;api.JGAPI.CS.SERIAL++;api.JGAPI.CS.STORE[i]={};api.JGAPI.CS.STORE[i].responses={};api.JGAPI.CS.STORE[i].responses.RESULT=[];api.JGAPI.CS.STORE[i].responses.ERROR=[];api.JGAPI.CS.STORE[i].callback=function(){};if(typeof(callback)=='function'){api.JGAPI.CS.STORE[i].callback=callback;}\nreturn i;},getErrorObj:function(err){var obj={};if(typeof(err)=='object'&&(typeof(err.ERROR)=='string'||typeof(err.ERROR)=='number')){obj.ERROR=err.ERROR;}else{obj.ERROR='';}\nif(typeof(err)=='object'&&(typeof(err.MESSAGE)=='string'||typeof(err.MESSAGE)=='number')){obj.MESSAGE=err.MESSAGE;}else{obj.MESSAGE='';}\nif(typeof(err)=='object'&&(typeof(err.SUFFIX)=='string'||typeof(err.SUFFIX)=='number')){obj.SUFFIX=err.SUFFIX;}else{obj.SUFFIX='';}\nreturn obj;},getTypeByNumber:function(num){var type={};num=num.toString().replace(/^0/g,'');switch(num){case'1':type={'name':'研究者','type':'ResearcherInfo'};break;case'2':type={'name':'文献','type':'ArticleInfo'};break;case'3':type={'name':'特許','type':'PatentInfo'};break;case'4':type={'name':'研究課題','type':'FundingInfo'};break;case'5':type={'name':'機関','type':'InstituteInfo'};break;case'6':type={'name':'科学技術用語','type':'TermInfo'};break;case'7':type={'name':'化学物質','type':'ChemicalInfo'};break;case'8':type={'name':'遺伝子','type':'GeneInfo'};break;case'9':type={'name':'資料','type':'MaterialsInfo'};break;case'10':type={'name':'研究資源','type':'ResourcesInfo'};break;default:type={'name':'すべて','type':'Global'};break;}\ntype.num=num;return type;},getTypeByJgid:function(jgid){return api.JGAPI.getTypeByNumber(parseInt(jgid.toString().substr(4,2),10));},isJgid:function(jgid){jgid=jgid.toString();if(jgid.match(/^\\d{18}$/g)!=null&&parseInt(jgid.substr(4,2),10)>=1&&parseInt(jgid.substr(4,2),10)<=10){return true;}else{return false;}}};";
var mod_pagespeed_1sh3OAaRxE = "api.JGAPI.parseKeyword=function(input,callback){var id=api.JGAPI.createCS(callback);var cs=api.JGAPI.CS.STORE[id];cs.input=api.JGCOM.trim(input);var cb={};cb.parseQuery=function(res){if(input!==api.search.currentKeywordInput){cs.responses.OLD=true;}else if(typeof(res.ERROR)=='undefined'){cs.responses.RESULT.push(res.VALUE);}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));}\ncallback(cs.responses);};parseQuery(cs.input,cb.parseQuery);};";
var mod_pagespeed_oC9qZ0_D3z = "api.JGAPI.getEachCategoryCount=function(word,callback){var id=api.JGAPI.createCS(callback);var cs=api.JGAPI.CS.STORE[id];cs.word=api.JGCOM.trim(word);cs.view=5;cs.responses.WORD=cs.word;cs.responses.VIEW=cs.view;var cb={};cb.fetchCnt=function(res){if(word!==api.search.currentKeywordSynonymStr){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){cs.responses.RESULT=res.VALUE;}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));}\ncs.callback(cs.responses);cs={};};var query={};query.KEYWORD=cs.word;searchCount(query,5,cb.fetchCnt);};";
var mod_pagespeed_pMi6298e5w = "api.JGAPI.getSynonym=function(words,callback){var deferreds=[];for(var i=0;i<words.length;i++){var kwa=new api.JGAPI.KwaHelper(words[i]);deferreds.push(kwa.execute());}\nvar response={RESULT:[],ERROR:[]};$.when.apply(null,deferreds).then(function(){for(var i=0;i<arguments.length;i++){var o=arguments[i];if(o.state=='1'){response.RESULT.push(o.value);}else{response.ERROR.push(o.value);}}\ncallback(response);});};api.JGAPI.displayKeyword=function(s){var map={researcher:'研究者名',term:'用語名',institute:'機関名',patent:'特許名'}\nvar w=s.split(':');if(w.length>1){var term=w[0];term=term.replace(/@/g,'');if(map[term]){return map[term]+':'+w[1];}\nreturn w[1];}else{return s;}}\napi.JGAPI.KwaHelper=function(param){this.init(param);}\napi.JGAPI.KwaHelper.prototype={init:function(param){this.keyword=param;var q=param.split(':');if(q.length>1){this.term=q[0];this.query=q[1];}else{this.term='';this.query=q[0];}},execute:function(){var dfd=$.Deferred();var query=\"\\\"\"+this.query.replace(/\"/g,\"\\\"\")+\"\\\"\";if(this.term){query=this.term.replace(/@/g,'')+\":\"+query;}\nvar keyword=this.keyword;getKeywordAlias(query,function(res){var o={};if(typeof(res.ERROR)=='undefined'){res.VALUE[0]=keyword;o={state:1,value:res.VALUE};}else{o={state:0,value:api.JGAPI.getErrorObj(res)};}\ndfd.resolve(o);});return dfd.promise();}}";
var mod_pagespeed_cy2L41o9ET = "api.JGAPI.currentQuery='';api.JGAPI.currentCategory=0;api.JGAPI.currentOrder='';api.JGAPI.currentSessionId='';api.JGAPI.getList=function(word,type,view,page,sort,field,callback){var id=api.JGAPI.createCS(callback);var cs=api.JGAPI.CS.STORE[id];cs.word=api.JGCOM.trim(word);cs.sort=api.JGCOM.trim(sort);cs.field=api.JGCOM.trim(field);cs.type=api.JGAPI.getTypeByNumber(api.JGCOM.trim(type));cs.view=api.JGCOM.trim(view);cs.page=api.JGCOM.trim(page);cs.responses.WORD=cs.word;cs.responses.SORT=cs.sort;cs.responses.FIELD=cs.field;cs.responses.VIEW=cs.view;cs.responses.PAGE=cs.page;cs.responses.SUM=0;cs.responses.START=0;cs.responses.END=0;cs.responses.GET=0;var cb={};cb.snippetData=function(res,scores){if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory||view!==api.search.currentLimit||sort!==api.search.currentOrder||page!==api.search.currentPage){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){for(var i=0;i<res.VALUE.length;i++){var o={};o.JGID=res.VALUE[i].JGID;o.SNIPPET=decode_htmlspecialchars(res.VALUE[i].SNIPPET);o.SCORE=scores[res.VALUE[i].JGID];cs.responses.RESULT.push(o);}}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));}\ncs.cntApiRun--;if(cs.cntApiRun==0){cs.callback(cs.responses);cs={};}};cb.fetchRs=function(res){if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory||view!==api.search.currentLimit||sort!==api.search.currentOrder||page!==api.search.currentPage){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'&&res.VALUE.RESULT.length>0){var results=[];var scores={};for(var i=0;i<res.VALUE.RESULT.length;i++){results[i]=res.VALUE.RESULT[i].JGID;scores[res.VALUE.RESULT[i].JGID]=res.VALUE.RESULT[i].SCORE;}\ngetSnippetData(results,function(obj){cb.snippetData(obj,scores);});}else if(typeof(res.ERROR)=='undefined'){cs.cntApiRun--;if(cs.cntApiRun==0){cs.callback(cs.responses);cs={};}}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));cs.cntApiRun--;if(cs.cntApiRun==0){cs.callback(cs.responses);cs={};}}};cb.fetchCnt=function(res){if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory||view!==api.search.currentLimit||sort!==api.search.currentOrder||page!==api.search.currentPage){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){cs.responses.SUM=res.VALUE.SUM;cs.responses.START=(res.VALUE.SUM>0)?(cs.page*cs.view)-cs.view+1:res.VALUE.SUM;cs.responses.END=((cs.page*cs.view)<res.VALUE.SUM)?(cs.page*cs.view):res.VALUE.SUM;cs.responses.GET=cs.responses.END-cs.responses.START;}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));}\ncs.cntApiRun--;if(cs.cntApiRun==0){cs.callback(cs.responses);cs={};}};cb.search=function(res){api.JGAPI.currentSessionId=res.VALUE;if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory||view!==api.search.currentLimit||sort!==api.search.currentOrder||page!==api.search.currentPage){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){cs.cntApiRun=2;eval('fetch'+cs.type.type).CNT(res.VALUE,cs.view,cb.fetchCnt);eval('fetch'+cs.type.type).RS(res.VALUE,cs.view,cs.page,cb.fetchRs);}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));cs.callback(cs.responses);cs={};}};if(word===api.JGAPI.currentQuery&&type===api.JGAPI.currentCategory&&sort===api.JGAPI.currentOrder&&api.JGAPI.currentSessionId){cb.search({VALUE:api.JGAPI.currentSessionId});}else{var query={};query.KEYWORD=cs.word;query.SORTTYPE=cs.sort;query.SORTFIELD=cs.field;eval('search'+cs.type.type).JGID(query,cb.search);api.JGAPI.currentQuery=word;api.JGAPI.currentCategory=type;api.JGAPI.currentOrder=sort;}};";
var mod_pagespeed_3ETYHpxOMs = "api.JGAPI.getGroupWords=function(word,type,view,page,callback,groupId){var id=api.JGAPI.createCS(callback);var cs=api.JGAPI.CS.STORE[id];cs.word=api.JGCOM.trim(word);cs.type=api.JGAPI.getTypeByNumber(api.JGCOM.trim(type));cs.view=api.JGCOM.trim(view);cs.page=api.JGCOM.trim(page);cs.responses.RESULT={};var cb={};cb.fetchFrs=function(res){if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){cs.responses.RESULT[res.VALUE.FIELD]=res.VALUE.RESULT;}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));}\ncs.cntApiRun--;if(cs.cntApiRun==0){cs.callback(cs.responses);cs={};}};cb.fetchCnt=function(res){if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){cs.responses.SUM=res.VALUE.SUM;cs.responses.START=(res.VALUE.SUM>0)?(cs.page*cs.view)-cs.view+1:res.VALUE.SUM;cs.responses.END=((cs.page*cs.view)<res.VALUE.SUM)?(cs.page*cs.view):res.VALUE.SUM;cs.responses.GET=cs.responses.END-cs.responses.START;}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));}\ncs.cntApiRun--;if(cs.cntApiRun==0){cs.callback(cs.responses);cs={};}};cb.search=function(res){if(word!==api.search.currentKeywordSynonymWordStr||type!==api.search.currentCategory){cs.responses.OLD=true;cs.callback(cs.responses);cs={};return;}\nif(typeof(res.ERROR)=='undefined'){if(view==6){cs.cntApiRun=1;}else{cs.cntApiRun=2;eval('fetch'+cs.type.type).CNT(res.VALUE,cs.view,cb.fetchCnt);}\neval('fetch'+cs.type.type).FRS(res.VALUE,cs.view,cs.page,cb.fetchFrs);}else{cs.responses.ERROR.push(api.JGAPI.getErrorObj(res));cs.callback(cs.responses);cs={};}};var query={};query.KEYWORD=cs.word;switch(cs.type.num){case'1':searchResearcherInfo[groupId](query,cb.search);break;case'2':searchArticleInfo[groupId](query,cb.search);break;case'3':searchPatentInfo[groupId](query,cb.search);break;case'4':searchFundingInfo[groupId](query,cb.search);break;case'5':searchInstituteInfo[groupId](query,cb.search);break;case'6':cs.callback(cs.responses);cs={};break;case'7':cs.callback(cs.responses);cs={};break;case'8':searchGeneInfo[groupId](query,cb.search);break;case'9':searchMaterialsInfo[groupId](query,cb.search);break;case'10':searchResourcesInfo[groupId](query,cb.search);break;default:cs.callback(cs.responses);cs={};break;}};";
var mod_pagespeed_oE58ddsAic = "api.master.categories=['all','researcher','article','patent','funding','institute','term','chemical','gene','materials','resources'];api.master.wordGroups=[{},{CS:'所属',JT:'職名',RSB:'研究分野',SO:'所属学会',RG:'地方',PF:'都道府県'},{ES:'外部サイト有無',EL:'外部サイトリンク',RCA:'被引用文献',RCP:'被引用特許',AU:'著者',NYID:'名寄せID',EW:'文献タイトルに含まれる語',CC4:'分類コード',CS:'機関',JT:'資料名',PY:'発行年'},{CS:'出願人/特許権者',AU:'発明者',AUNY:'名寄せID',EW:'発明の名称に含まれる語',TP:'公報種別',AY:'出願年',PY:'公開年',RCP:'被引用特許',FTM:'Fターム'},{AU:'実施研究者',CS:'実施機関',FP:'研究制度',SY:'開始年度',EY:'終了年度',EW:'課題名に含まれる語'},{PP:'所在地'},{},{},{CHP:'染色体番号'},{PC:'出版団体名'},{CS:'機関名',BY:'資源分類',PP:'都道府県'}];";
var mod_pagespeed_5NG1flLrl$ = "(function($){if(isIE6)return;api.errorDisplaySubBlock={$holder:null,$errorDisplay:null,$tpl:null,visible:false,add:function(errorArray,category,gid){if(!this.visible){this.show();}\nvar errorObj,exists,$item;for(var i=0,len=errorArray.length;i<len;i++){errorObj=errorArray[i];$item=this.$tpl.clone();var gJName=api.master.wordGroups[category][gid];$item.find('#gJName').text(gJName);$item.find('#error').text(errorObj.ERROR);$item.find('#message').text(errorObj.MESSAGE);if(errorObj.SUFFIX)\n$item.find('#suffix').text(errorObj.SUFFIX);this.$errorDisplay.append($item);}},show:function(){this.$errorDisplay.show();this.visible=true;},hide:function(){if(api.category.category()===6||api.category.category()===7){this.$holder.find('.condDisplayHolder').hide();}\nthis.$errorDisplay.hide();this.visible=false;},clear:function(){this.$errorDisplay.empty();this.hide();},init:function(){this.$holder=$('div.contentsSub');this.$errorDisplay=$('div.subBlockErrorDisplay');this.$tpl=$('div.subBlockErrorItemTemplate');this.clear();}};})(jQuery);";
var mod_pagespeed_wFwQdH85lr = "(function($){if(isIE6)return;api.errorDisplay={$holder:null,$display:null,$tpl:null,visible:false,add:function(errorArray){pr('====error_display.add====');pr('\\t errorArray:');pr(errorArray);api.search.clear(errorArray);if(!this.visible){this.show();}\nvar errorObj,exists,$item;for(var i=0,len=errorArray.length;i<len;i++){errorObj=errorArray[i];pr('errorObj.ERROR:'+errorObj.ERROR);exists=false;this.$display.find('> div').each(function(){pr('text:'+$(this).find('span').eq(0).text());if($(this).find('#error').text()===errorObj.ERROR&&$(this).find('#message').text()===errorObj.MESSAGE&&$(this).find('#suffix').text()===errorObj.SUFFIX){exists=true;return false;}});if(!exists){$item=this.$tpl.clone();$item.find('#error').text(errorObj.ERROR);$item.find('#message').text(errorObj.MESSAGE);if(errorObj.SUFFIX)\n$item.find('#suffix').text(errorObj.SUFFIX);this.$display.append($item);}}},show:function(){this.$holder.children().hide();this.$display.show();this.visible=true;},hide:function(){this.$holder.children().show();if(api.category.category()===6||api.category.category()===7){this.$holder.find('.condDisplayHolder').hide();}\nthis.$display.hide();this.visible=false;},clear:function(){this.$display.empty();this.hide();},init:function(){this.$holder=$('div.contentsMain');this.$display=$('div.errorDisplay');this.$tpl=$('div.errorItemTemplate');this.clear();}};})(jQuery);";
var mod_pagespeed_wffj2loVp3 = "(function($){if(isIE6)return;api.category={$btns:null,$easySelect:null,$links:null,category:function(val){if(val===undefined){return $('#categoryBtns li').index($('#categoryBtns li.active').get(0));}else{pr('====setting api.category.category(val)====');if(val!==$('#categoryBtns li').index($('#categoryBtns li.active').get(0))){api.words.words([]);$('div.group').remove();}\nif(val===0){$('div.group').remove();$('div.cats').show();$('div.msgNoGroup').hide();$('div.condDisplayHolder').hide();}else if(val===6||val===7){$('div.group').remove();$('div.cats').hide();$('div.msgNoGroup').show();$('div.condDisplayHolder').hide();}else{$('div.cats').hide();$('div.msgNoGroup').hide();if(!api.errorDisplay.visible)$('div.condDisplayHolder').show();}\napi.list.pager.page(1);$('#categoryBtns li').removeClass('active');$('#categoryBtns li').eq(val).addClass('active');$('select#categorySelect > option').removeAttr('selected');var $optionToSelect=$('select#categorySelect > option').eq(val);$optionToSelect.attr('selected','selected');$('div.easy-select-box > a.easy-select-box-disp').text(this.categoryJName());$('span.searchBox > input.js-category-input').val(val);api.search.initOrderSelect(val);}},categoryJName:function(){return $('#categoryBtns li.active').find('img').attr('alt');},clear:function(){$('h1.heading1 > span:first').text('');this.$btns.eq(0).find('span.count').text('-');for(var i=0,len=this.$btns.length;i<len;i++){this.$btns.eq(i+1).find('span.count').text('-');this.$links.eq(i).find('span.count').text('-');}},onBtnClick:function(e){pr('====カテゴリボタンclick====');var cid=this.$btns.index(e.currentTarget);pr('\\t カテゴリID:',cid);if(cid===this.category())return false;this.category(cid);api.search.setHash();return false;},onEasySelectClick:function(e){var cid=parseInt($(e.currentTarget).attr(\"rel\"));if(cid===this.category())return;this.category(cid);api.search.setHash();},onLinkClick:function(e){pr('====カテゴリリンクclick====');var idx=$('div.subBlockInner ul.link:not(.narrowLink) li a').index(e.currentTarget);pr('\\t idx:',idx);$('ul#categoryBtns li').eq(idx+1).click();return false;},init:function(){pr('====api.category.init====');this.$btns=$('ul#categoryBtns li');this.$btns.click($.proxy(this.onBtnClick,this));this.$easySelect=$(\".easy-select-box\");this.$easySelect.find(\"li>a\").click($.proxy(this.onEasySelectClick,this));this.$links=$('div.subBlockInner ul.link li a');this.$links.click($.proxy(this.onLinkClick,this));},displayResult:function(res){pr('====api.category.displayResult====');pr('\\t res:');pr(JSON.stringify(res));this.clear();var keywordStr=api.search.keywordInput();if(keywordStr.length>api.list.KEYWORDS_DISP_LENGTH_LIMIT){keywordStr=keywordStr.slice(0,api.list.KEYWORDS_DISP_LENGTH_LIMIT-1)+\"…\";}\n$('h1.heading1 > span:first').text(keywordStr);var sum=res.RESULT.SUM;var cats=res.RESULT.DETAIL;var $btns=$('ul#categoryBtns span.count');$btns.eq(0).text(api.JGCOM.numberformat(sum));var $links=$('div.cats ul.link li');var cid,cnt;for(var i=0,len=cats.length;i<len;i++){cid=cats[i].TYPE;cnt=cats[i].COUNT;if(cnt!=-1){$btns.eq(cid).text(api.JGCOM.numberformat(cnt));}\nif(cnt!=-1){$links.eq(cid-1).find('span.count').text(api.JGCOM.numberformat(cnt));}}},callJgapiEachCategoryCount:function(keywordSynonymStr){pr('====api.category.callJgapiEachCategoryCount====');pr('\\t keywordSynonymStr:'+keywordSynonymStr);var dfd=$.Deferred();var cb=function(res){pr('====api.category.callJgapiEachCategoryCountのcb====');if(res.OLD){dfd.reject(this);}else if(res.ERROR.length>0){pr('■■ERROR at api.category.callJgapiEachCategoryCount cb res.ERROR:');pr(JSON.stringify(res.ERROR));api.errorDisplay.add(res.ERROR);dfd.reject(this);}else{dfd.resolve(this);this.displayResult(res);}};api.JGAPI.getEachCategoryCount(keywordSynonymStr,$.proxy(cb,this));return dfd.promise();}};})(jQuery);";
var mod_pagespeed_E2gIfWwlRl = "(function($){if(isIE6)return;if(!api)api={};api.synonym={_initedSynonym:null,_initedSynonymCount:0,_result:{data:null,text:'',total:0},_displayItemCount:5,_checked:{},initHeadinged:false,MESSAGE_NOSELECTED:'<span class=\"goPageTop\" ><a href=\"#thesaurusBox\">↑別名・同義語を検索に加えると、ヒット件数を増やすことができます。</a></span>',MESSAGE_SELECTED:'<span class=\"thesaurusIcon\">現在、<span>%d件</span>の別名・同義語が同時に検索されています。　<a href=\"/data/thesaurus.html#lbContent\" class=\"ui-dialogtrigger-synonym-heading\" data-title=\"別名・同義語の設定 （全%d件）\" data-klass=\"thesaurusTitle\"><img src=\"/common/images/btn_genre_conf.png\" width=\"100\" height=\"22\" alt=\"確認・変更する\" class=\"ro vAM\" />',displaySynonymResult:function(result){this.showHeadingInfo(this._initedSynonymCount);if(result['total']>0){var totalStr=api.JGCOM.numberformat(result['total']);$('div.thesaurusBox span.number').text(totalStr+'件');$('a.ui-dialogtrigger-synonym-all').attr('data-title',\"別名・同義語の設定 （全\"+totalStr+\"件）\");this.setAllDialog(\".ui-dialogtrigger-synonym-all\");var text=result['text'];$thesaurusAreaInner=$(\"div.thesaurusAreaInner\").html(text);$(\"input[type=checkbox]\",$thesaurusAreaInner).click(function(){var id=$(this).val();var value=$(this).prop('checked');api.synonym.select(id,value);})\nwindow.imgRollover('div.thesaurusArea');var moreDialog=$(\".ui-dialogtrigger-synonym-more\").dialogtrigger();moreDialog.on('dialogtrigger.show',function(e,contents){var no=$(this).attr('data-no');api.synonym.setSynonymWindow(e,contents,moreDialog,no);})\n$(\"div.thesaurusBox\").slideDown(200);}},setAllDialog:function(selector){var allDialog=$(selector).dialogtrigger();allDialog.on('dialogtrigger.show',function(e,contents){api.synonym.setSynonymWindow(e,contents,allDialog);})},setSynonymWindow:function(e,contents,w,no){var o=this.getSynonyms(no);var $dl=$('dl.layerThesaurus',contents);var txt='';for(i=0;i<o.length;i++){var row=o[i];var keyword=row[0];var len=row.length-1;var lenStr=api.JGCOM.numberformat(len);txt+='<dt><span class=\"fwB\">「'+this.escapeHtml(api.JGAPI.displayKeyword(keyword))+'」の別名・同義語</span>（'+lenStr+'件） \\\r\n						<span style=\"cursor:pointer;\" onclick=\"api.synonym.selectAll(this);\">\\\r\n						<img src=\"/common/images/btn_all_select.png\" width=\"82\" height=\"22\" alt=\"すべて選択\" class=\"vAM ro\" /></span> \\\r\n						<span style=\"cursor:pointer;\" onclick=\"api.synonym.unSelectAll(this);\">\\\r\n						<img src=\"/common/images/btn_all_clear.png\" width=\"82\" height=\"22\" alt=\"すべて解除\" class=\"vAM ro\" /></span></dt>';txt+='<dd>';for(var j=1;j<row.length;j++){var synonym=row[j];var id=synonym['id'];var key=synonym['word'];if(this._checked[id]==true){txt+='<label><input type=\"checkbox\" value=\"'+id+'\" checked=\"checked\" />'+key+'</label>　'}else{txt+='<label><input type=\"checkbox\" value=\"'+id+'\" />'+key+'</label>　'}}\ntxt+='</dd>';}\n$dl.html(txt);var $cancelBtn=$(contents).find('.cancelBtn');var $submitBtn=$(contents).find('.submitBtn');$cancelBtn.on('click',function(){w.dialogtrigger('hideDialog');});$submitBtn.on('click',function(){$(this).parents('div.layerBox:first').find('input[type=checkbox]').each(function(){var id=$(this).val();var value=$(this).prop('checked');api.synonym.selectFromWindow(id,value);});w.dialogtrigger('hideDialog');api.search.setHash();});window.imgRollover('div.layerBox');},selectAll:function(elem){$(elem).parents('dt:first').next('dd').find('input[type=checkbox]').attr('checked',true);},unSelectAll:function(elem){$(elem).parents('dt:first').next('dd').find('input[type=checkbox]').attr('checked',false);},select:function(id,value){this._checked[id]=value;},selectFromWindow:function(id,value){this.select(id,value);$('div.thesaurusAreaInner input[type=checkbox]').filter(function(){return($(this).val()==id)}).attr('checked',value);},callJgapiSynonym:function(params,parsedKeywordStr){this.initSynonym();this._initedSynonymCount=0;var dfd=$.Deferred();var cb=function(res){if(parsedKeywordStr!==api.search.currentParsedKeywordStr){dfd.reject(this);return;}\nvar output='';var result={text:'',total:0,data:[]};var total=0;this._checked={};if(res.RESULT.length>0){var data=[];var id=0;this._checked={};for(var i=0;i<res.RESULT.length;i++){var initedSynonym=[];var row=res.RESULT[i];if(row.length<=1)continue;var kw=row[0];if(this._initedSynonym&&this._initedSynonym[kw]!=undefined){initedSynonym=this._initedSynonym[kw];}\nvar arr=[kw];var len=row.length-1;var lenStr=api.JGCOM.numberformat(len);var q='<p class=\"select\">「'+this.escapeHtml(api.JGAPI.displayKeyword(kw))+'」の別名・同義語（'+lenStr+'件）';var maxi=Math.min(len,this._displayItemCount);for(var j=1;j<=len;j++){var word=row[j];id++;if($.inArray(word,initedSynonym)>=0){this._initedSynonymCount++;var checked='checked=\"checked\"';this._checked[id]=true;}else{this._checked[id]=false;var checked='';}\nif(j<=maxi){q+='　<label><input type=\"checkbox\" value=\"'+id+'\" '+checked+'/>'+word+'</label>';}\narr.push({word:word,id:id});}\nif(maxi<len){var lenStr=api.JGCOM.numberformat(len);q+='　...　<a href=\"/data/thesaurus.html#lbContent\" data-no=\"'+data.length.toString()+'\" class=\"ui-dialogtrigger-synonym-more\" data-title=\"別名・同義語の設定 （全'+lenStr+'件）\" data-klass=\"thesaurusTitle\"><img src=\"/common/images/nrw_btn_view_all.png\" width=\"82\" height=\"22\" alt=\"すべて見る\" class=\"ro\" /></a>';}\ntotal+=len;output+=q+'</p>';data.push(arr);}\noutput+='<p class=\"btn\" ><a href=\"javascript:void(0);\" onclick=\"api.search.setHash();\" ><img src=\"/common/images/thesaurus_research_btn.png\" width=\"96\" height=\"37\" alt=\"再検索\" class=\"ro\" /></a></p>';result['text']=output;result['total']=total;result['data']=data;this._initedSynonym=null;this._result=result;this.displaySynonymResult(result);}\nif(res.ERROR.length>0){var errorString='';for(var i=0;i<res.ERROR.length;i++){errorString='<span style=\"font-weight:bold;\">同義語を取得できませんでした</span>: '+res.ERROR[i].MESSAGE+((res.ERROR[i].SUFFIX)?' ('+res.ERROR[i].SUFFIX+') ':' ')+'<span style=\"color: #999;\">'+res.ERROR[i].ERROR+'</span>'+'<br />';}\nthis.displayError(errorString);pr('■■ERROR at api.synonym.callJgapiSynonym cb res.ERROR:');pr(JSON.stringify(res.ERROR));api.errorDisplay.add(res.ERROR);dfd.reject(this);return;}\ndfd.resolve(this);};api.JGAPI.getSynonym(params,$.proxy(cb,this));return dfd.promise();},displayError:function(errorString){},clear:function(){this.initSynonym();},initSynonym:function(){this.initHeading();$(\"div.thesaurusBox\").slideUp(0);},recoverError:function(){$(\"div.thesaurusAreaInner input:checkbox\").attr('checked',false);this._checked={};},getSelectedSynonyms:function(){if(this._result['data']==null){if(this._initedSynonym){return this._initedSynonym;}else{return null;}}\nvar ret={};var selectedCount=0;var data=this._result['data'];for(var i=0;i<data.length;i++){var row=data[i];var keyword=row[0];var words=[];for(var j=1;j<row.length;j++){var id=row[j]['id'];if(this._checked[id]){selectedCount++;words.push(row[j]['word']);}}\nif(words.length){ret[keyword]=words;}else{ret[keyword]=[];}}\nif(selectedCount){return ret;}else{return null;}},setSelectedSynonyms:function(data){this._initedSynonym=data;this.setSelectedSynonymsCount();},setSelectedSynonymsCount:function(){var selectedCount=0;for(var p in this._initedSynonym){selectedCount+=this._initedSynonym[p].length;}\nthis.showHeadingInfo(selectedCount);},getSynonyms:function(n){if(n!=undefined&&!isNaN(n)){try{return[this._result['data'][n]];}catch(e){return[];}}else{return this._result['data'];}},escapeHtml:function(str){return $(\"<div/>\").text(str).html();},showHeadingInfo:function(n){$p=$(\"p.hedingInfo\");if(this._result['total']>0){if(n>0){var nStr=api.JGCOM.numberformat(n);$(\"span.thesaurusIcon span:first\",$p).html(nStr+'件');$(\"span.thesaurusIcon a\",$p).attr(\"data-title\",\"別名・同義語の設定 （全\"+nStr+\"件）\");$(\"span.goPageTop\",$p).hide();$(\"span.thesaurusIcon\",$p).show();}else{$(\"span.goPageTop\",$p).show();$(\"span.thesaurusIcon\",$p).hide();}}},initHeading:function(){$p=$(\"p.hedingInfo\");$(\"span.thesaurusIcon\",$p).hide();$(\"span.goPageTop\",$p).hide();if(!this.initHeadinged){$(\"a\",$p).bind(\"click\",(function(){var $target=$(this.hash);$target=$target.length&&$target||$(\"[name=\"+this.hash.slice(1)+\"]\");if($target.length){var targetOffset=$target.offset().top;$(\"html,body\").animate({scrollTop:targetOffset},600,\"quart\");return false;}}));this.setAllDialog(\".ui-dialogtrigger-synonym-heading\");}}}})(jQuery);";
var mod_pagespeed_zxyYL8JxE5 = "(function($){if(isIE6)return;api.Pager=function(params){this._page=1;this.numPages=0;this.onNumClick=params.onNumClick;this.$holder=params.$holder;this.$numsHolder=params.$numsHolder;this.$firstBtn=params.$firstBtn;this.$lastBtn=params.$lastBtn;this.$prevBtn=params.$prevBtn;this.$nextBtn=params.$nextBtn;this.$nums=null;this.$firstBtn.data('click',$.proxy(function(){this.page(Math.max(1,this.page()-10));this.onNumClick();return false;},this));this.$lastBtn.data('click',$.proxy(function(){this.page(Math.min(this.numPages,this.page()+10));this.onNumClick();return false;},this));this.$prevBtn.data('click',$.proxy(function(){this.page(this.page()-1);this.onNumClick();return false;},this));this.$nextBtn.data('click',$.proxy(function(){this.page(this.page()+1);this.onNumClick();return false;},this));this.hideInside();};api.Pager.prototype={PAGE_NUM_DISP_LIMIT:10,page:function(val){if(val===undefined){return this._page;}else{if(val===null)val=1;this._page=val;}},show:function(){this.$holder.show();},hide:function(){this.$holder.hide();},showInside:function(){this.$holder.find('*').show();},hideInside:function(){this.$holder.find('*').hide();},update:function(sum,limit,page){this.numPages=Math.ceil(sum/limit);if(this.numPages>1){this.showInside();}else{this.hideInside();}\nthis.$numsHolder.empty();var begin=page-Math.ceil(this.PAGE_NUM_DISP_LIMIT/2)+1;begin=Math.max(begin,1);var end=begin+Math.min(this.numPages,this.PAGE_NUM_DISP_LIMIT)-1;if(end>this.numPages){begin-=(end-this.numPages);end=this.numPages;}\nfor(var i=begin;i<=end;i++){this.$numsHolder.append('<li><a href=\"#\">'+i+'</a></li>');}\nthis.$nums=this.$numsHolder.find('li');this.page(page);this.selectNum();this.$nums.find('a').click($.proxy(function(e){this.page(parseInt($(e.currentTarget).text()));this.onNumClick();return false;},this));this.updateArrowBtns();},selectNum:function(){var num=this.$nums.find('strong').text();this.$nums.find('strong').replaceWith('<a href=\"#\">'+num+'</a>');var page=this.page();this.$nums.each(function(idx){if(parseInt($(this).find('a').text())===page){$(this).find('a').replaceWith($('<strong>'+page+'</strong>'));}});},enableBtns:function(btns){var $btn,$img,imgSrc;for(var i=0;i<btns.length;i++){$btn=btns[i];$img=$btn.find('img');imgSrc=$img.attr('src');if(imgSrc.indexOf('_no')>0){imgSrc=imgSrc.split('_no').join('');}\n$img.attr('src',imgSrc);$btn.unbind('click');$btn.click($btn.data('click'));}},disableBtns:function(btns){var $btn,$img,imgSrc;for(var i=0;i<btns.length;i++){$btn=btns[i];$img=$btn.find('img');imgSrc=$img.attr('src');if(imgSrc.indexOf('_no')===-1){imgSrc=imgSrc.split('.png').join('_no.png');}\n$img.attr('src',imgSrc);$btn.unbind('click');$btn.click(function(){return false;});}},updateArrowBtns:function(){if(this.page()===1){this.disableBtns([this.$firstBtn,this.$prevBtn]);this.enableBtns([this.$nextBtn,this.$lastBtn]);}else if(this.page()===this.numPages){this.enableBtns([this.$firstBtn,this.$prevBtn]);this.disableBtns([this.$nextBtn,this.$lastBtn]);}else{this.enableBtns([this.$firstBtn,this.$prevBtn,this.$nextBtn,this.$lastBtn]);}}};})(jQuery);";
var mod_pagespeed_ksPtBiSQOC = "(function($){if(isIE6)return;api.autopage={$autopageOn:null,$autopageOff:null,addResult:false,autopage:function(val){if(val===undefined){return $.cookie('autopage');}else{if(val===null)val='0';$.cookie('autopage',val);var thisCheckScroll=$.proxy(this.checkScroll,this);$(window).unbind('scroll',thisCheckScroll);if(val==='1'){api.list.pager.hide();this.checkScroll();$(window).scroll(thisCheckScroll);$('p#searchResultListDownload').hide();}else{api.list.pager.show();if(api.category.category()===2){$('p#searchResultListDownload').show();}}}},checkScroll:function(ev){if($(window).height()+$(window).scrollTop()>=$(document).height()-1){if(!this.addResult){var numItemsTotal=parseInt($('div.mainBlock > h2:first span.fontResult').text().split(',').join(''));if(api.search.limit()*api.list.pager.page()<numItemsTotal){this.addResult=true;this.addNextPage();}}}},addNextPage:function(){api.list.pager.page(api.list.pager.page()+1);api.search.setHash();},autopageOnClick:function(e){this.$autopageOn.addClass('active');this.$autopageOff.removeClass('active');this.$autopageOn.unbind();this.$autopageOff.unbind();this.$autopageOn.click(this.doNothing);this.$autopageOff.hover(function(){$(this).addClass('active');},function(){$(this).removeClass('active');}).click($.proxy(this.autopageOffClick,this));this.autopage('1');return false;},autopageOffClick:function(e){this.$autopageOn.removeClass('active');this.$autopageOff.addClass('active');this.$autopageOn.unbind();this.$autopageOff.unbind();this.$autopageOn.hover(function(){$(this).addClass('active');},function(){$(this).removeClass('active');}).click($.proxy(this.autopageOnClick,this));this.$autopageOff.click(this.doNothing);this.autopage('0');return false;},doNothing:function(){return false;},init:function(){this.$autopageOn=$('ul.autopage li.btnOn > a');this.$autopageOff=$('ul.autopage li.btnOff > a');if(this.autopage()==='1'){this.autopageOnClick();}else{this.autopageOffClick();}}};})(jQuery);";
var mod_pagespeed__gFJqDB8lt = "(function($){if(isIE6)return;api.list={KEYWORDS_DISP_LENGTH_LIMIT:20,pager:null,clear:function(){window.document.title='J-GLOBAL | 「'+''+'」の検索結果【'+api.category.categoryJName()+'】 ';$('div.mainBlock > h2 > span.sum').text(0);$('table.type1').empty();this.pager.update(0,api.search.limit(),1);},init:function(){this.pager=new api.Pager({onNumClick:function(){api.search.setHash();},$holder:$('div.mainBlock ul.pager'),$numsHolder:$('div.mainBlock ul.pager ul.pageNumBtnsHolder'),$firstBtn:$('div.mainBlock ul.pager a.firstPageBtn'),$lastBtn:$('div.mainBlock ul.pager a.lastPageBtn'),$prevBtn:$('div.mainBlock ul.pager a.prevPageBtn'),$nextBtn:$('div.mainBlock ul.pager a.nextPageBtn')});},displayResult:function(res,keywordStr,category){var currentKeywordStr=api.search.currentKeywordInput;if(currentKeywordStr.length>this.KEYWORDS_DISP_LENGTH_LIMIT){currentKeywordStr=currentKeywordStr.slice(0,this.KEYWORDS_DISP_LENGTH_LIMIT-1)+\"…\";}\nwindow.document.title='J-GLOBAL | 「'+currentKeywordStr+'」の検索結果【'+api.category.categoryJName()+'】 ';$('div.mainBlock > h2 > span.fwN > img').attr('src','/common/images/icon/icon_'+api.master.categories[api.search.currentCategory]+'.png').attr('alt',api.category.categoryJName());$('div.mainBlock > h2 > span.sum').text(api.JGCOM.numberformat(res.SUM));var $table=$('table.type1');if(!api.autopage.addResult){$table.empty();}\nvar $tr,$div,score,scoreImg,href;for(var i=0,len=res.RESULT.length;i<len;i++){if(res.RESULT[i].SNIPPET===''){continue;}\n$tr=$(res.RESULT[i].SNIPPET);try{$div=$tr.find('td').eq(2).find('div').eq(0).empty();if(res.SORT==='score'){score=parseInt(res.RESULT[i].SCORE);scoreImg='';if(score<1000){scoreImg='score_01.gif';}else if(score<5000){scoreImg='score_02.gif';}else if(5000<=score){scoreImg='score_03.gif';}\nif(scoreImg){$div.append('スコア<br><img src=\"/common/images/'+scoreImg+'\" width=\"104\" height=\"10\" alt=\"\" class=\"mB15\"><br>');}}\nhref=$tr.find('h3.heading3Result a').attr('href');href=href.split('&')[0];href+=('&q='+encodeURIComponent(keywordStr)+'&t='+category);$tr.find('h3.heading3Result a').attr('href',href);}catch(ex){pr('■■Exception at api.list.displayResult. e:');pr(ex);}\n$table.append($tr);}\napi.autopage.addResult=false;this.pager.update(res.SUM,res.VIEW,res.PAGE);api.clipBtn.initClipBtns();window.imgRollover('table.type1');api.socialBtns.updateUrl();wordBreak();if(api.autopage.autopage()==='0'){$(window).scrollTop(0);}\nif(api.search.currentCategory===2&&api.autopage.autopage()==='0'){$('p#searchResultListDownload').show();}else{$('p#searchResultListDownload').hide();}},callJgapiList:function(text,type,view,page,sort,sortField,keywordStr){if(typeof(view)=='undefined'){var view=20;}\nif(typeof(page)=='undefined'){var page=1;}\nif(typeof(sort)=='undefined'){var sort='score';}\nvar dfd=$.Deferred();var cb=function(res){if(res.OLD){dfd.reject(this);}else if(res.ERROR.length>0){pr('■■ERROR at api.list.callJgapiList cb res.ERROR:');pr(JSON.stringify(res.ERROR));api.errorDisplay.add(res.ERROR);dfd.reject(this);$('#loading').css({display:'none'});}else{dfd.resolve(this);this.displayResult(res,keywordStr,type);$('#loading').css({display:'none'});}};api.JGAPI.getList(text,type,view,page,sort,sortField,$.proxy(cb,this));return dfd.promise();}};})(jQuery);";
var mod_pagespeed_ga_l9YE8_w = "(function($){if(isIE6)return;api.words={$groupsHolder:null,$groupTpl:$('<div class=\"subBlock group\" style=\"display:none;\">\\\r\n		<div class=\"subBlockIn\">\\\r\n		<div class=\"headingBox withIcon\">\\\r\n		<h3 class=\"heading3Img\"><img src=\"\" height=\"15\" alt=\"\" /></h3>\\\r\n		<p class=\"helpIcon\"><a href=\"/data/helplist.php#docFltHasExLink\" class=\"ui-tooltiptrigger\"><img src=\"/common/images/icon/icon_q_03.png\" width=\"18\" height=\"18\" alt=\"ヘルプ\" class=\"ro\" /></a></p>\\\r\n		</div>\\\r\n		<div class=\"subBlockInner\">\\\r\n		<ul class=\"link narrowLink wordsHolder\">\\\r\n		</ul>\\\r\n		<p class=\"txtAR\"><a href=\"/data/filterhasexlink.html#lbContent\" class=\"ui-dialogtrigger-words\" data-title=\"\" data-klass=\"filterTitle\"><img src=\"/common/images/nrw_btn_more_pop.png\" width=\"82\" height=\"22\" alt=\"もっと見る\" class=\"ro\" /></a></p>\\\r\n		</div>\\\r\n		</div>\\\r\n		</div>'),$wordTpl:$('<li style=\"display:none;\"><a href=\"#\"><span class=\"title\"></span> (<span class=\"count\"></span>件)</a></li>'),$btnTpl:$('<a href=\"#\" class=\"btnDel\"><span class=\"btnDelIn groupNameAndTitle\">外部サイト有無：全文リンク</span></a>'),$andTpl:$('<img src=\"/common/images/narrow_and_text.png\" width=\"24\" height=\"8\" alt=\"AND\" />'),$condDisplay:null,$dialogWords:null,ERROR_TEST:false,dfds:[],words:function(_words){if(_words===undefined){_words=[];this.$condDisplay.find('a').each(function(){_words.push($(this).data('wordData'));});return _words;}else{this.$condDisplay.empty();if(_words.length===0){this.$condDisplay.append('設定されていません。');$('p.btnClear').css({display:'none'});return;}else{$('p.btnClear').css({display:'block'});}\nvar wordData,groupName,$btn;for(var i=0,len=_words.length;i<len;i++){wordData=_words[i];if(i>0){this.$condDisplay.append(' ');this.$andTpl.clone().appendTo(this.$condDisplay);this.$condDisplay.append(' ');}\n$btn=this.$btnTpl.clone().appendTo(this.$condDisplay);groupName=api.master.wordGroups[wordData.category][wordData.groupId];$btn.find('span.groupNameAndTitle').text(groupName+'：'+wordData.title);$btn.data('wordData',wordData);$btn.click(function(){$(this).remove();api.search.setHash();return false;});}}},init:function(){this.$groupsHolder=$('div.contentsSub');this.$condDisplay=$('p.condDisplay');this.$condDisplayHolder=$('div.condDisplayHolder');$('p.btnClear').css(\"cursor\",\"pointer\").click(function(){api.words.words([]);api.search.setHash();});},clear:function(){this.$groupsHolder.find('div.group').remove();this.$groupsHolder.find('div.subBlockErrorItemTemplate').remove();$('div.cats').hide();},addToCondDisplay:function(wordData){var _words=this.words();var match=false;for(var i=0,len=_words.length;i<len;i++){match=false;for(var j in wordData){if(j==='count')continue;if(_words[i][j]===wordData[j]){match=true;}else{match=false;break;}}\nif(match)return false;}\n_words.push(wordData);var newWords=[];for(var i in api.master.wordGroups[api.search.currentCategory]){for(var j=0;j<_words.length;j++){if(_words[j].groupId===i){newWords.push(_words[j]);_words.splice(j,1);j--;}}}\nthis.words(newWords);return true;},removeFromCondDisplay:function(wordData){var _words=this.words();var word;var match=false;for(var j=0;j<_words.length;j++){word=_words[j];match=false;for(var i in wordData){if(i==='count')continue;if(word[i]===wordData[i]){match=true;}else{match=false;continue;}}\nif(match){_words.splice(j,1);j--;}}\nthis.words(_words);},get$groupById:function(groupId){var $group=null;this.$groupsHolder.find('div.group').each(function(){if($(this).data('groupId')===groupId){$group=$(this);return false;}});return $group;},prependWordTo$group:function($group,wordData){var $wordsHolder=$group.find('ul.wordsHolder');var $word=this.$wordTpl.clone(true).show().prependTo($wordsHolder);$word.find('span.count').text(api.JGCOM.numberformat(wordData.count));if(wordData.code){$word.append('<br />【<span class=\"code\"></span>】');$word.find('span.code').text(wordData.code);}\n$word.find('span.title').text(wordData.title);$word.data('wordData',wordData);$word.click(function(){$(this).toggleClass('active');if($(this).hasClass('active')){api.words.addToCondDisplay($(this).data('wordData'));}else{api.words.removeFromCondDisplay($(this).data('wordData'));}\napi.search.setHash();return false;});return $word;},setSelectedWords:function(){var _words=this.words();var wordData,$group,$word;for(var i=_words.length-1;i>=0;i--){wordData=_words[i];$group=this.get$groupById(wordData.groupId);if(!$group)continue;$word=null;$group.find('li').each(function(){if($(this).data('wordData').val===wordData.val){$word=$(this);$(this).addClass('active');return false;}});if(!$word){$word=this.prependWordTo$group($group,wordData);$word.addClass('active');}\nwhile($group.find('li').length>5){$group.find('li:nth-child(6)').remove();}}},displayResult:function(res,category,groupId){if(category===0){$('div.group').remove();$('div.cats').show();$('div.msgNoGroup').hide();$('div.condDisplayHolder').hide();return;}\n$('div.cats').hide();var $contentsSub=$('div.contentsSub');var $group,$groupIcon,words,j,word,wordData;words=res.RESULT[groupId];if(!$.isArray(words)){pr('\\t ■■ERROR at api.words.displayResult : '+groupId+'の絞りこみ語句一覧をAPIから配列として取得できませんでした。currentCategory:'+category);return;}\nif(words.length===0)return;$group=this.$groupTpl.clone(true).show().appendTo($contentsSub);if(category===2&&groupId==='PY'){var $graphLinkImage=$('<img src=\"/common/images/nrw_btn_graph.png\" width=\"92\" height=\"22\" alt=\"時系列グラフ\" class=\"ro\">');$group.find('h3').addClass(\"headingPublishYear\").append($graphLinkImage);api.articleYear.init($graphLinkImage);}\n$group.find('p.helpIcon a').attr('href','/data/helplist.php#cat'+category+'_'+groupId);$group.data('groupId',groupId);$groupIcon=$group.find('h3 img:first');$groupIcon.attr('src','/common/images/cat'+category+'_'+groupId+'.png');$groupIcon.attr('alt',api.master.wordGroups[category][groupId]);if(words.length>5){$group.find('a.ui-dialogtrigger-words').show();words.pop();}else{$group.find('a.ui-dialogtrigger-words').hide();}\nfor(j=words.length-1;j>=0;j--){word=words[j];wordData={count:0,title:'',code:'',category:0,groupId:'',val:''};wordData.count=word.COUNT;if(category===2&&groupId==='NYID'||category===3&&groupId==='CSNY'||category===3&&groupId==='AUNY'||category===2&&groupId==='CC4'){wordData.title=word.KEYWORD2;wordData.code=word.KEYWORD1;}else{wordData.title=word.KEYWORD;}\nwordData.category=category;wordData.groupId=groupId;if(category===2&&groupId==='ES'||category===2&&groupId==='EL'){wordData.val=word.KEYWORD1;}else{wordData.val=word.KEYWORD;}\nthis.prependWordTo$group($group,wordData);}\nthis.setSelectedWords();this.$dialogWords=$group.find('a.ui-dialogtrigger-words').dialogtrigger();this.$dialogWords.on('dialogtrigger.show',$.proxy(api.groupWords.init,api.groupWords));$group.find('a.ui-tooltiptrigger').tooltiptrigger();window.imgRollover('div.contentsSub div.group:last');},callJgapiWords:function(text,category){var dfd=$.Deferred();dfd.resolve(this);var promise=dfd.promise();var groups=api.master.wordGroups[category];for(var gid in groups){promise=promise.pipe($.proxy(this.getGroupWords,this,text,category,gid),$.proxy(this.getGroupWords,this,text,category,gid));}\nreturn promise;},getGroupWords:function(text,category,gid){var dfd=$.Deferred();this.dfds.push(dfd);var cb=function(res){if(this.ERROR_TEST){if(gid==='CS'){res.ERROR.push({ERROR:'ERROR999',MESSAGE:'エラーメッセージサンプル',SUFFIX:'エラーサフィックスサンプル'});}else if(gid==='SO'){res.ERROR.push({ERROR:'ERROR9999',MESSAGE:'エラーメッセージサンプル2',SUFFIX:'エラーサフィックスサンプル2'});}}\nif(res.OLD){dfd.reject(this);}else if(res.ERROR.length>0){pr('■■ERROR at api.words.getGroupWords cb res.ERROR:');pr(JSON.stringify(res.ERROR));api.errorDisplaySubBlock.add(res.ERROR,category,gid);dfd.reject(this);}else{dfd.resolve(this);this.displayResult(res,category,gid);}};api.JGAPI.getGroupWords(text,category,'6','1',$.proxy(cb,this),gid);return dfd.promise();},clearDfds:function(){for(var i=0,len=this.dfds.length;i<len;i++){this.dfds[i].reject();}\nthis.dfds=[];}};})(jQuery);";
var mod_pagespeed_rwlcddEh5Y = "(function($){if(isIE6)return;api.groupWords={LIMIT:20,pager:null,currentGroupId:'',$wordsHolder:null,$msgAboutNum:null,$wordTpl:$('<li style=\"display:none;\"><a href=\"#\"><span class=\"title\">全文リンク</span> (<span class=\"count\">93</span>件)</a></li>'),init:function(e,element){pr('====api.groupWords.init====');pr('\\t e:',e);this.$wordsHolder=$('div.layerBox ul.wordsHolder');this.$msgAboutNum=$('div.layerBox p.paragraph');this.pager=new api.Pager({onNumClick:$.proxy(this.callJgapiGroupWords,this),$holder:$('div.layerBox ul.pager'),$numsHolder:$('div.layerBox ul.pager ul.pageNumBtnsHolder'),$firstBtn:$('div.layerBox ul.pager a.firstPageBtn'),$lastBtn:$('div.layerBox ul.pager a.lastPageBtn'),$prevBtn:$('div.layerBox ul.pager a.prevPageBtn'),$nextBtn:$('div.layerBox ul.pager a.nextPageBtn')});this.pager.show();this.currentGroupId=$('div.group').has(e.target).data('groupId');pr('\\t currentGroupId:'+this.currentGroupId);this.callJgapiGroupWords(this.currentGroupId);},onWordClick:function(e){pr('====api.groupWords.prependWordTo$wordsHolder $wordのクリックハンドラ====');$(e.currentTarget).toggleClass('active');var wordData=$(e.currentTarget).data('wordData');pr('\\t wordData:');pr(JSON.stringify(wordData));api.words.$dialogWords.dialogtrigger('hideDialog');if(api.words.addToCondDisplay(wordData)){api.search.setHash();}\nreturn false;},prependWordTo$wordsHolder:function(wordData){var $word=this.$wordTpl.clone(true).show().prependTo(this.$wordsHolder);pr(api.JGCOM.numberformat(wordData.count));$word.find('span.count').text(api.JGCOM.numberformat(wordData.count));if(wordData.code){$word.append('<br />【<span class=\"code\"></span>】');$word.find('span.code').text(wordData.code);}\n$word.find('span.title').text(wordData.title);$word.data('wordData',wordData);$word.click($.proxy(this.onWordClick,this));},displayResult:function(res){pr('====api.groupWords.displayResult====');if(res.ERROR.length>0){pr('\\t ■■ERROR at api.groupWords.displayResult res.ERROR:');pr(res.ERROR);return;}\npr('\\t res:');pr(JSON.stringify(res));var words=res.RESULT[this.currentGroupId];if(!$.isArray(words)){pr('\\t ■■ERROR at api.groupWords.displayResult:'+this.currentGroupId+'の絞りこみ語句一覧をAPIから配列として取得できませんでした。');return;}\nif(words.length===0){}\nvar categoryJName=api.category.categoryJName();var groupName=api.master.wordGroups[api.search.currentCategory][this.currentGroupId];pr('\\t groupName:'+groupName);var title=categoryJName+'を'+groupName+'で絞り込む';$('div.ui-dialogcontents-title span').text(title);var msg=res.SUM+' 件中 '+res.START+' - '+res.END+' 件目';this.$msgAboutNum.text(msg);this.$wordsHolder.empty();var word,wordData;for(j=words.length-1;j>=0;j--){word=words[j];pr('\\t word:');pr(JSON.stringify(word));wordData={count:0,title:'',code:'',category:0,groupId:'',val:''};wordData.count=word.COUNT;var currentCategory=api.search.currentCategory;if(currentCategory===2&&this.currentGroupId==='NYID'||currentCategory===3&&this.currentGroupId==='CSNY'||currentCategory===3&&this.currentGroupId==='AUNY'||currentCategory===2&&this.currentGroupId==='CC4'){wordData.title=word.KEYWORD2;wordData.code=word.KEYWORD1;}else{wordData.title=word.KEYWORD;}\nwordData.category=currentCategory;wordData.groupId=this.currentGroupId;if(currentCategory===2&&this.currentGroupId==='ES'||currentCategory===2&&this.currentGroupId==='EL'){wordData.val=word.KEYWORD1;}else{wordData.val=word.KEYWORD;}\nthis.prependWordTo$wordsHolder(wordData);}\nvar page=Math.ceil(res.START/this.LIMIT);this.pager.update(res.SUM,this.LIMIT,page);imgRollover('div.ui-dialogcontents');},callJgapiGroupWords:function(groupId){pr('====api.groupWords.callJgapiGroupWords====');if(groupId===undefined){groupId=this.currentGroupId;}\nvar text=api.search.currentKeywordSynonymWordStr;var type=api.search.currentCategory;var view=this.LIMIT;var page=this.pager.page();api.JGAPI.getGroupWords(text,type,view,page,$.proxy(this.displayResult,this),groupId);}};})(jQuery);";
var mod_pagespeed_FEhn1KQZ4_ = "(function($){if(isIE6)return;if(typeof(api)=='undefined'||!api)api={};api.clipBtn={isLogin:false,CLIP_BTN_DONE:'<span style=\"position: relative; display: inline-block; \"><img src=\"/common/images/btn_clip_done.png\" width=\"90\" height=\"22\" alt=\"クリップ済み\" ></span>',BALOON:'<div class=\"ui-tooltippanel clip\" style=\"position: absolute; top: -120px; left: 732px; display: block; opacity: 1; \">\\\r\n<div class=\"ui-tooltippanel-inner\"><div class=\"ui-tooltippanel-header\"><div class=\"ui-tooltippanel-title\">クリップされました！</div>\\\r\n<div class=\"ui-tooltippanel-close\"><a href=\"javascript:void(0);\"></a></div><\\!-- /ui-tooltippanel-header --\\></div><div class=\"ui-tooltippanel-main\">\\\r\n<div class=\"ui-tooltippanel-desc\"></div><\\!-- /ui-tooltippanel-main --\\></div><\\!-- /ui-tooltippanel-inner --\\></div><\\!-- /ui-tooltippanel --\\></div>',BALOON_DURATION:3000,initClipBtns:function(){$('a.clipBtn').unbind('click').hide();getUserInfo.IN(function(res){if(res.ERROR==undefined){if(res.VALUE=='yes'){api.clipBtn.isLogin=true;}\napi.clipBtn._initClipBtns();}});},_initClipBtns:function(){$('a.clipBtn').each(function(){var href=$(this).prop('href');$(this).attr('href','javascript:void(0);');if(!api.clipBtn.isLogin){$(this).click(function(e){alert('クリップ機能は登録ユーザーのみ使用できます');}).show();}else{if(href.match(/#jgid(.+)$/)){var jgid=RegExp.$1;}else{return;}\n$(this).data('jgid',jgid);getBookMarkInfo.RANK(jgid,$.proxy(function(res){if(res.ERROR){}else{if(res.VALUE=='0'){this.click($.proxy(api.clipBtn.clip,this)).show();}else if(res.VALUE=='1'||res.VALUE=='2'||res.VALUE=='3'){this.parent().html(api.clipBtn.CLIP_BTN_DONE).show()}}},$(this)));}});},clip:function(){var jgid=this.data('jgid');var RANK=2;registBookMarkInfo(jgid,RANK,$.proxy(function(res){if(res.ERROR){this.onClipError(res);}else{if(res.VALUE=='0'){this.onClipSuccess(jgid);}else{this.onClipError(res);}}},api.clipBtn));},onClipSuccess:function(jgid){var $clip=$('a.clipBtn').filter(function(){return $(this).data('jgid')===jgid});var $baloon=$(this.BALOON);$baloon.css({display:'none'});var $tr=$clip.parents('tr:first');var $icon=$('td:first img',$tr).clone();var text=$tr.find('td:nth-child(2) h3 a').text();$baloon.find('div.ui-tooltippanel-desc').append($icon).append(' '+text);if(typeof(TI)=='string'){$icon=$('div.detailHead p > img.iconHead').clone();$baloon.find('div.ui-tooltippanel-desc').append($icon).append(' '+TI);}\n$clip.parent().html(api.clipBtn.CLIP_BTN_DONE);this.showBaloon($baloon);},onClipError:function(res){var $baloon=$(this.BALOON);$(\"div.ui-tooltippanel-title\",$baloon).html(\"クリップできませんでした\");$baloon.css({display:'none'});this.showBaloon($baloon);},showBaloon:function($baloon){$('div.myJglobal').append($baloon);$baloon.fadeIn(500);var timeoutId=setTimeout(function(){$baloon.find('div.ui-tooltippanel-close a').unbind('click');$baloon.fadeOut('normal',function(){$baloon.remove();});},this.BALOON_DURATION);$baloon.find('div.ui-tooltippanel-close a').click(function(){clearTimeout(timeoutId);$baloon.fadeOut('normal',function(){$baloon.remove();});return false;});}};if(location.pathname.match(/detail\\.php$/)){$(api.clipBtn.initClipBtns);}})(jQuery);";
var mod_pagespeed_RyElO7A4w9 = "(function($){if(isIE6)return;api.socialBtns={TWEET_BTN:'<li id=\"tweetBtn\"><a href=\"https://twitter.com/share\" class=\"twitter-share-button\" data-count=\"none\">ツイート</a>\u003cscript type=\"text/javascript\" src=\"http://platform.twitter.com/widgets.js\"><\/script></li>',updateUrl:function(){$('#tweetBtn').replaceWith($(this.TWEET_BTN));$('#tweetBtn a').attr('data-url',location.href).attr('data-text',window.document.title);$('li#fbLikeBtn > div:first').socialbutton('facebook_like',{send:false,layout:'button_count',width:70,show_faces:false,text:window.document.title});if(typeof(addThis)==='undefined'){$.ajax({type:\"GET\",url:\"http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f72787e740860d3\",dataType:\"script\",success:function(){addthis.update('share','url',location.href);}});}else{addthis.update('share','url',location.href);}}};})(jQuery);";
var mod_pagespeed_J8XTLwekrX = "(function($){if(isIE6)return;api.articleListDownload={$bib:null,$ris:null,getJgids:function(){var jgids=[];var jgid;$('table.type1 tr').each(function(){jgid=$(this).find('td').eq(1).find('h3 a').attr('href');jgid=jgid.split('?')[1].split('&')[0].split('=')[1];jgids.push(jgid);});return jgids;},onBibClick:function(){var jgids=this.getJgids();this.callBib(jgids);return false;},onRisClick:function(){var jgids=this.getJgids();this.callRis(jgids);return false;},postStr:function(url,str){var form=document.createElement('form');document.body.appendChild(form);var input=document.createElement('input');input.setAttribute('type','hidden');input.setAttribute('name','str');input.setAttribute('value',str);form.appendChild(input);form.setAttribute('action',url);form.setAttribute('method','post');form.submit();},init:function(){this.$bib=$('p#searchResultListDownload').find('a').eq(0);this.$ris=$('p#searchResultListDownload').find('a').eq(1);this.$bib.click($.proxy(this.onBibClick,this));this.$ris.click($.proxy(this.onRisClick,this));},callBib:function(jgids){var cb=function(res){if(res.ERROR){pr('■■ERROR at api.articleListDownload.callJgapiBib cb res:');pr(JSON.stringify(res));api.errorDisplay.add([res]);}else{var str=res.VALUE.join('\\r\\n\\r\\n');this.postStr('/api/output_text.php?kind=bib',str);}};getArticleInfo.BIB(jgids,$.proxy(cb,this));},callRis:function(jgids){var cb=function(res){if(res.ERROR){pr('■■ERROR at api.articleListDownload.callJgapiRis cb res:');pr(JSON.stringify(res));api.errorDisplay.add([res]);}else{var str='Provider:Japan Science and Technology Agency\\r\\nDatabase:J-GLOBAL\\r\\nContent:text/plain; charset=\"utf-8\"\\r\\n\\r\\n'+res.VALUE.join('\\r\\n\\r\\n');this.postStr('/api/output_text.php?kind=ris',str);}};getArticleInfo.RIS(jgids,$.proxy(cb,this));}};})(jQuery);";
var mod_pagespeed_i7bzkzT6_W = "(function($){if(isIE6)return;api.articleYear={init:function($elem,w,h){if(!w)w=750;if(!h)h=450;$elem.wrap(\"<a href='/data/articleyear.html#content' data-title='発行年　時系列グラフ' data-width='\"+(w+100)+\"' data-height='\"+(h+100)+\"'>\");$a=$elem.parent('a');var trigger=$a.dialogtrigger();trigger.on('dialogtrigger.show',function(e,contents){$('div.loading',$(contents)).css('top',h/2).css('left',w/2+25).show();var query=api.search.currentKeywordSynonymWordStr;getArticleYear.GRA(query,w,h,function(data){if(data.ERROR!=undefined){$(\"div.loading\",$(contents)).hide();$('.articleyear',$(contents)).css('margin-top',h/2-50).html('データを取得できませんでした!');}else{$(\"div.loading\",$(contents)).fadeOut('slow');$('.articleyear',$(contents)).html(data.VALUE);}});});}};})(jQuery);";
var mod_pagespeed_PFM9M0dvXX = "(function($){if(isIE6)\nreturn;api.search={currentKeywordInput:'',currentParsedKeywordStr:'',currentKeywordSynonymStr:'',currentKeywordSynonymWordStr:'',currentCategory:0,currentOrder:'score',currentLimit:20,currentPage:1,parsedKeyword:null,setHashCalled:false,keywords:[],keywordInput:function(val){if($('#keywordInput').hasClass('ui-searchfield-placeholder')&&$('#keywordInput').val()!=$('#keywordInput').attr('search-placeholder')){$('#keywordInput').removeClass('ui-searchfield-placeholder');}\nif(val===undefined){if($('#keywordInput').hasClass('ui-searchfield-placeholder')&&$('#keywordInput').val()==$('#keywordInput').attr('search-placeholder')){return'';}\nreturn $('#keywordInput').val();}else{$('#keywordInput').val(val);}},order:function(val){if(val===undefined){return $('#orderSelect').children(':selected').val();}else{if(val===null)\nval='score';$('#orderSelect').children().removeAttr('selected').each(function(){if($(this).val()===val){$(this).attr('selected','selected');return false;}});}},limit:function(val){if(val===undefined){return parseInt($('#limitSelect').children(':selected').val());}else{if(val===null)\nval=20;$('#limitSelect').children().removeAttr('selected').each(function(){if(parseInt($(this).val())===val){$(this).attr('selected','selected');return false;}});}},initOrderSelect:function(category){$('#orderSelect').empty();var html='';switch(category){case 0:html='<option value=\"score\">スコア順</option>';$('#orderSelect').attr('disabled','disabled');break;case 2:html='<option value=\"score\">スコア順</option><option value=\"down\">発行年の新しい順</option><option value=\"up\">発行年の古い順</option>';$('#orderSelect').removeAttr('disabled');break;case 3:html='<option value=\"score\">スコア順</option><option value=\"down\">出願年の新しい順</option><option value=\"up\">出願年の古い順</option>';$('#orderSelect').removeAttr('disabled');break;case 4:html='<option value=\"score\">スコア順</option><option value=\"down\">実施開始年の新しい順</option><option value=\"up\">実施開始年の古い順</option>';$('#orderSelect').removeAttr('disabled');break;case 9:html='<option value=\"score\">スコア順</option>';$('#orderSelect').attr('disabled','disabled');break;default:html='<option value=\"score\">スコア順</option><option value=\"down\">更新日の新しい順</option><option value=\"up\">更新日の古い順</option>';$('#orderSelect').removeAttr('disabled');}\n$('#orderSelect').append(html);this.order(this.currentOrder);},clear:function(errorArray){api.errorDisplaySubBlock.clear();api.errorDisplay.clear();api.list.clear();api.words.words([]);api.words.clear();this.currentKeywordSynonymWordStr='';location.hash='#';if(errorArray.length&&errorArray[0].ERROR==\"ERRAP302\")return;this.currentKeywordInput='';this.currentParsedKeywordStr='';this.currentKeywordSynonymStr='';this.currentPage=1;this.parsedKeyword=null;this.setHashCalled=false;this.keywords=[];api.synonym.clear();api.category.clear();},makeKeywordSynonymStr:function(parsedKeyword,synonyms){var stringify=function(obj){var str='';if(obj.TYPE==='OR'){var arr=[];for(var i=0,len=obj.UNIT.length;i<len;i++){arr.push(stringify(obj.UNIT[i]));}\nstr='('+arr.join(' OR ')+')';}else if(obj.TYPE==='AND'){var arr=[];for(var i=0,len=obj.UNIT.length;i<len;i++){arr.push(stringify(obj.UNIT[i]));}\nstr=arr.join(' ');}else if(obj.TYPE==='KEY'){var synonymKey=obj.CLASS+':'+obj.KEYWORD;str=obj.CLASS+':\"'+obj.KEYWORD+'\"';if(obj.FIELD!=\"\"){str=obj.FIELD+\"=\"+str;}\nif(synonyms&&synonyms[synonymKey]&&synonyms[synonymKey].length){var arr=synonyms[synonymKey];str='('+str;for(var i=0,len=arr.length;i<len;i++){str+=' OR '+obj.CLASS+':'+arr[i];}\nstr+=')';}}\nreturn str;};var keywordSynonymStr;if(parsedKeyword&&parsedKeyword.UNIT){keywordSynonymStr=stringify(parsedKeyword.UNIT);}else{keywordSynonymStr='';}\nreturn keywordSynonymStr;},makeKeywordSynonymWordStr:function(keywordSynonymStr,words){var word,arr;for(var i=0,len=words.length;i<len;i++){word=words[i];word='['+word.groupId+']=\"'+word.val+'\"';words[i]=word;}\nvar wordStr=words.join(' ');var keywordSynonymWordStr=keywordSynonymStr;if(wordStr){keywordSynonymWordStr+=' '+wordStr;}\nreturn keywordSynonymWordStr;},extractKeywords:function(obj){var words=[];if(typeof(obj.UNIT)=='object'){words=words.concat(this.extractKeywords(obj.UNIT));}else if(typeof(obj.UNIT)=='undefined'&&typeof(obj.length)!='undefined'){for(var i=0;i<obj.length;i++){words=words.concat(this.extractKeywords(obj[i]));}}else if(typeof(obj.UNIT)=='undefined'&&typeof(obj.KEYWORD)!='undefined'){words.push(obj.CLASS+':'+obj.KEYWORD);}\nreturn words;},setHash:function(){this.setHashCalled=true;if(this.keywordInput()==='')\nreturn;if(this.keywordInput()===this.currentKeywordInput){this._setHash();}else{this.currentKeywordInput=this.keywordInput();api.JGAPI.parseKeyword(this.keywordInput(),$.proxy(this.onKeywordParsed,this));$('#loading').css({display:'block'});}},onKeywordParsed:function(res){if(res.OLD){return;}\nif(res.ERROR.length>0){pr('■■ERROR at api.search.onKeywordParsed. res.ERROR:');pr(JSON.stringify(res.ERROR));api.errorDisplay.add(res.ERROR);api.synonym.recoverError();this.setHashCalled=false;return;}\nthis.parsedKeyword=res.RESULT[0];this.keywords=this.extractKeywords(this.parsedKeyword);if(this.setHashCalled){this._setHash();}else{this.currentKeywordInput=this.keywordInput();this._doSearch();}},_setHash:function(){if($('#keywordInput').hasClass('ui-searchfield-placeholder'))return;var selectedSynonyms=api.synonym.getSelectedSynonyms();var keywordSynonymStr=this.makeKeywordSynonymStr(this.parsedKeyword,selectedSynonyms);if(keywordSynonymStr!=this.currentKeywordSynonymStr){api.words.words([]);}\nvar keywordSynonymWordStr=this.makeKeywordSynonymWordStr(keywordSynonymStr,api.words.words());if(keywordSynonymWordStr!=this.currentKeywordSynonymWordStr||api.category.category()!=this.currentCategory||this.order()!=this.currentOrder||this.limit()!=this.currentLimit){api.list.pager.page(1);}\nvar params={keyword:this.keywordInput(),synonym:selectedSynonyms,category:api.category.category(),order:this.order(),limit:this.limit(),page:api.list.pager.page(),words:api.words.words()};var paramsStr=JSON.stringify(params);paramsStr=encodeURIComponent(paramsStr);location.hash=paramsStr;},onHashchange:function(){if(location.hash===''||location.hash==='#')return;api.errorDisplaySubBlock.clear();api.errorDisplay.clear();var paramsStr=location.hash.slice(1);paramsStr=decodeURIComponent(paramsStr);var params={};try{params=JSON.parse(paramsStr);}catch(ex){pr('■■ERROR at api.search.onHashChange JSON.parse. ex:');pr(ex);}\nthis.keywordInput(params.keyword===undefined?'':params.keyword);api.synonym.setSelectedSynonyms(params.synonym===undefined?null:params.synonym);var category=(params.category===undefined?0:parseInt(params.category));api.category.category(category);this.order(params.order===undefined?'score':params.order);this.limit(params.limit===undefined?20:parseInt(params.limit));api.list.pager.page(params.page===undefined?1:parseInt(params.page));api.words.words(params.words===undefined?[]:params.words);this.doSearch();},doSearch:function(){if(this.keywordInput()==='')\nreturn;this.currentKeywordInput=this.keywordInput();if(this.setHashCalled){this._doSearch();}else{api.JGAPI.parseKeyword(this.keywordInput(),$.proxy(this.onKeywordParsed,this));$('#loading').css({display:'block'});}},_doSearch:function(){this.setHashCalled=false;var selectedSynonyms=api.synonym.getSelectedSynonyms();var keywordSynonymStr=this.makeKeywordSynonymStr(this.parsedKeyword,selectedSynonyms);var keywordSynonymWordStr=this.makeKeywordSynonymWordStr(keywordSynonymStr,api.words.words());var parsedKeywordStr=JSON.stringify(this.parsedKeyword);var category=api.category.category();var limit=this.limit();var page=api.list.pager.page();var order=this.order();var field='UPDT';if(category===2){field='PY';}else if(category===3){field='AY';}else if(category===4){field='SY';}\n$('#loading').css({display:'block'});if(parsedKeywordStr!=this.currentParsedKeywordStr){this.currentParsedKeywordStr=parsedKeywordStr;api.synonym.callJgapiSynonym(this.keywords,parsedKeywordStr);if(this.keywords.length){var firstKeyword=this.keywords[0];if(firstKeyword.indexOf(':')>-1){firstKeyword=firstKeyword.split(':')[1];}\n$('#THESAURUS').val(firstKeyword);$('.searchThesaurus').show();}else{$('.searchThesaurus').hide();}}\nthis.currentKeywordSynonymStr=keywordSynonymStr;api.category.callJgapiEachCategoryCount(keywordSynonymStr);if(keywordSynonymWordStr!=this.currentKeywordSynonymWordStr||category!=this.currentCategory){this.currentKeywordSynonymWordStr=keywordSynonymWordStr;this.currentCategory=category;api.words.clearDfds();$('div.group').remove();api.words.callJgapiWords(keywordSynonymWordStr,category);}\nthis.currentOrder=order;this.currentLimit=limit;this.currentPage=page;api.list.callJgapiList(keywordSynonymWordStr,category,limit,page,order,field,this.keywordInput()).then(function(callJgapiListObj){},function(callJgapiListObj){});this.registOpeHistory();},registOpeHistory:function(){var cb=function(obj){var data={'DISP':'結果一覧','TITLE':'','URL':location.href,'KEYWORD':this.currentKeywordInput,'TYPE':this.currentCategory,'JGID':''};if(typeof(obj.ERROR)=='undefined'&&obj.VALUE=='yes'){registOperationHistoryInfo(data,function(obj){});}else{$.ajax({type:'GET',url:'/common/api/registOperationHistoryInfo.php',data:{data:data},success:function(histories){}});}};getUserInfo.IN($.proxy(cb,this));},init:function(){$('ul.controlDisp li.submitBtn').hide();$('div.controlArea > dl.controlAuto').css({display:'inline-block'});if(navigator.userAgent.indexOf('MSIE 7')!==-1){$('div.mainBlock > div.pagerArea > div.controlArea > dl.controlAuto').css({display:'inline'});}\napi.errorDisplaySubBlock.init();api.errorDisplay.init();api.category.init();api.list.init();api.autopage.init();api.words.init();api.synonym.initSynonym();api.articleListDownload.init();$('#limitSelect').change($.proxy(function(){api.list.pager.page(1);this.setHash();},this));$('#orderSelect').change($.proxy(function(){api.list.pager.page(1);this.setHash();},this));$('span.searchBtn').click($.proxy(this.setHash,this));$('#keywordInput').keypress($.proxy(function(e){if(e.keyCode===13){this.setHash();}},this));$(window).hashchange($.proxy(this.onHashchange,this));if(location.hash){this.onHashchange();}\napi.socialBtns.updateUrl();}};$($.proxy(api.search.init,api.search));})(jQuery);";
